<!DOCTYPE html>
<html style="background: #f8f7ef;">
<head>
	<title>Felipe Cortes</title>
	<link rel="stylesheet" type="text/css" href="bingo.css">
	<script type="text/javascript" src="bingo.js"></script>
	<script type="text/javascript" src="jquery.js"></script>
</head>
<body>
	<audio id="respuesta" controls style="display: none;">
	    <source src="horse.ogg" type="audio/ogg">
	    <source src="sonido_bien.mp3" type="audio/mpeg">
        Your browser does not support the audio element.
    </audio> 
	<section style="height: 400px;">
		<h2 style=" text-align: center; font-size: 25px; background: white; padding: 17px; border: 1px solid #8f8600;">BINGO PARCIAL INFRAESTRUCTURA - Felipe Cortes</h2>
		<div class="controls" style="float: left;width:500px;height: 200px; margin-left: 50px;">
			<a href="#" type="button" onclick="aleatorio(1,90)" class="ccc" value="dd"><img src="play.png" width="200"></a>
			<a type="button" name="Reset" class="jugar_new"  href="bingo.html"><img src="reset.png" width="200"></a>
		</div>
		<div style="float: right;width:600px;height: 200px; margin-right: 50px;">
			<input type="text" id="mar" value="" class="marcar" ><a type="button" id="mod" name="Reset" class="modificar" value="" href="#">BORRAR</a><br>
			<input type="text" id="cambiar" value="" class="cambiar" style="background: #eedd8a;">
			<input type="text" id="cambiar1" value="" class="cambiar" style="background: #8ac9ee;">
		</div>
	</section>
	<br>
	<section>
		<table border="1" width="100%" align="center">
			<tr>
			  <td  class="bingo">B</td>
			  <td  class="casilla 1" valor="1" >1</td>
			  <td  class="casilla 2" valor="2">2</td>
			  <td  class="casilla 3" valor="3">3</td>
			  <td  class="casilla 4" valor="4">4</td>
			  <td  class="casilla 5" valor="5">5</td>
			  <td  class="casilla 6" valor="6">6</td>
			  <td  class="casilla 7" valor="7">7</td>
			  <td  class="casilla 8" valor="8">8</td>
			  <td  class="casilla 9" valor="9">9</td>
			  <td  class="casilla 10" valor="10">10</td>
			  <td  class="casilla 11" valor="11">11</td>
			  <td  class="casilla 12" valor="12">12</td>
			  <td  class="casilla 13" valor="13">13</td>
			  <td  class="casilla 14" valor="14">14</td>
			  <td  class="casilla 15" valor="15">15</td>
			  <td valor="16" class="casilla 16" >16</td>
			  <td valor="17" class="casilla 17">17</td>
			  <td valor="18" class="casilla 18">18</td>
			  <td valor="19" class="casilla 19">19</td>
			  <td valor="20" class="casilla 20">20</td>
			</tr>
			<tr>
			  <td style="" class="bingo" style="background: blue">I</td>
			  <td valor="21" class="casilla 21">21</td>
			  <td valor="22" class="casilla 22">22</td>
			  <td valor="23" class="casilla 23">23</td>
			  <td valor="24" class="casilla 24">24</td>
			  <td valor="25" class="casilla 25">25</td>
			  <td valor="26" class="casilla 26">26</td>
			  <td valor="27" class="casilla 27">27</td>
			  <td valor="28" class="casilla 28">28</td>
			  <td valor="29" class="casilla 29">29</td>
			  <td valor="30" class="casilla 30">30</td>
			  <td valor="31" class="casilla 31">31</td>
			  <td valor="32" class="casilla 32">32</td>
			  <td valor="33" class="casilla 33">33</td>
			  <td valor="34" class="casilla 34">34</td>
			  <td valor="35" class="casilla 35">35</td>
			  <td valor="36" class="casilla 36">36</td>
			  <td valor="37" class="casilla 37">37</td>
			  <td valor="38" class="casilla 38">38</td> 
			  <td valor="39" class="casilla 39">39</td>
			  <td valor="40" class="casilla 40">40</td>
			</tr>
			<tr>
			  <td  class="bingo" style="background-color: red">N</td>
			  <td valor="41" class="casilla 41">41</td>
			  <td valor="42" class="casilla 42">42</td>
			  <td valor="43" class="casilla 43">43</td>
			  <td valor="44" class="casilla 44">44</td>
			  <td valor="45" class="casilla 45">45</td>
			  <td valor="46" class="casilla 46">46</td>
			  <td valor="47" class="casilla 47">47</td>
			  <td valor="48" class="casilla 48">48</td>
			  <td valor="49" class="casilla 49">49</td>
			  <td valor="50" class="casilla 50">50</td>
			  <td valor="51" class="casilla 51">51</td>
			  <td valor="52" class="casilla 52">52</td>
			  <td valor="53" class="casilla 53">53</td>
			  <td valor="54" class="casilla 54">54</td>
			  <td valor="55" class="casilla 55">55</td>
			  <td valor="56" class="casilla 56">56</td>
			  <td valor="57" class="casilla 57">57</td>
			  <td valor="58" class="casilla 58">58</td>
			  <td valor="59" class="casilla 59">59</td>
			  <td valor="60" class="casilla 60">60</td>

			</tr>
			<tr>
			  <td style="" class="bingo" style="background-color: yellow">G</td>
			  <td valor="61" class="casilla 61">61</td>
			  <td valor="62" class="casilla 62">62</td>
			  <td valor="63" class="casilla 63">63</td>
			  <td valor="64" class="casilla 64">64</td>
			  <td valor="65" class="casilla 65">65</td>
			  <td valor="66" class="casilla 66">66</td>
			  <td valor="67" class="casilla 67">67</td>
			  <td valor="68" class="casilla 68">68</td>
			  <td valor="69" class="casilla 69">69</td>
			  <td valor="70" class="casilla 70">70</td>
			  <td valor="71" class="casilla 71">71</td>
			  <td valor="72" class="casilla 72">72</td>
			  <td valor="73" class="casilla 73">73</td>
			  <td valor="74" class="casilla 74">74</td>
			  <td valor="75" class="casilla 75">75</td>
			  <td valor="76" class="casilla 76">76</td>
			  <td valor="77" class="casilla 77">77</td>
			  <td valor="78" class="casilla 78">78</td>
			  <td valor="79" class="casilla 79">79</td>
			  <td valor="80" class="casilla 80">80</td>
			</tr>
			<tr>
			  <td style="" class="bingo">0</td>
			  <td valor="81" class="casilla 81">81</td>
			  <td valor="82" class="casilla 82">82</td>
			  <td valor="83" class="casilla 83">83</td>
			  <td valor="84" class="casilla 84">84</td>
			  <td valor="85" class="casilla 85">85</td>
			  <td valor="86" class="casilla 86">86</td>
			  <td valor="87" class="casilla 87">87</td>
			  <td valor="88" class="casilla 88">88</td>
			  <td valor="89" class="casilla 89">89</td>
			  <td valor="90" class="casilla 90">90</td>
			</tr>
		</table>
		
		
	</section>

</body>
</html>
<script type="text/javascript">
	
	$(document).on('click', '.casilla', function(event) {
        at=$(this).attr('valor');
        //alert(at);
       $("."+at).css({'border':'1px solid white'});
       document.getElementById("cambiar1").value = at;
        document.getElementById("mar").value = at;
       document.getElementById("mod").value = at;
    });

//:::::..... para modificar numero que salio  ....::::::::::::
    $(document).on('click', '.modificar', function(event) {
        mod=$(this).val();
        var bingo = ["1", "2", "3", "4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90"];
        mod=mod-1;
         $("."+bingo[mod]).css({'background':'#fad15b', 'border':'1px solid'}); 
         //document.getElementById("demo").innerHTML = bingo;       
         document.getElementById("cambiar1").value = " ";
         document.getElementById("mar").value = " ";
         
         var value = mod+1;
		 usados = usados.filter(item => item !== value);
		//console.log(usados+"value"+value)
		 // [ 1, 2, 4, 5 ]	
    });
//::::..... end modificar   .......:::::

	 $(".marcar").change(function(){
       n=$(this).val();
       var bingo_array = ["1", "2", "3", "4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90"];
        n=n-1;

      	respuesta_sonido();
        $("."+bingo_array[n]).css({'background':'red'});
        document.getElementById("cambiar").value = " ";
       // $("."+bingo_array[n]).attr("marcado","ok");
      
        /*setTimeout(function() {
        $("."+bingo_array[n]).css({'background':'red'}); 
        $("."+bingo_array[n]).toggle('slow');
        },2000);*/
        $(this).val(" ");  
      });

////......funciones para las respuestas bien, erroneas y exelente.....
      var x1 = document.getElementById("respuesta");
      function respuesta_sonido() { 
        x1.play(); 
      } 
////......funciones para tener control de boton grabar...........

    var usados = new Array(); 

function aleatorio(a,b) {
     //var aleatorio= Math.round(Math.random()*(b-a)+parseInt(a));
     var aleatorio = Math.floor(Math.random()*(b-a+1))+a;
     var  n=aleatorio;


     var comprobar_repetido;
     var aleat2;
	 comprobar_repetido = repetido(n);

	 if (comprobar_repetido==true) {
	 	aleat2 = aleatorio2(a,b);
	    if (aleat2!=null) {
	      n=aleat2;
	    } else {
	    	alert("YA SALIERON TODAS LAS BOLITAS");
	    	n="";
	    }
	    //alert("el numero..."+n+"...esta repetido..pero lo cambio por....."+aleat2);
	 }else{	 	
	    usados.push(aleatorio);
	    //console.log("El numero..."+aleatorio+"....se agrego al arrary....."+ usados);
	 }

	 console.log(usados);
	/*for (var i=0; i<usados.length; i++) {
	 if (aleatorio == usados[i]) {
	    //aleatorio = true;
	    alert("El numero..." +aleatorio+ "...ya salio en el arrary..." + usados);
	    s=1;

	    var xx=0;
	    while (xx < 100) {
	  	   ale2 = Math.round(Math.random()*(b-a)+parseInt(a));
	  	   if(ale2!=usados[i]) {
	  	   	   aleatorio=ale2;
	  	   	   n=ale2;
		  	   s=0;
		  	   console.log("cambiado por "+ale2);
	  	   }
	  	   xx=xx+1;
		}
	  }
	}


	 if (s==0) {
	  usados.push(aleatorio);
	  console.log("Salio el numero..."+aleatorio+"....del arrary....."+ usados);
	 }
	*/


     var bingo_array = ["1", "2", "3", "4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90"];
     $('.marcar').val(n);
     $('#cambiar').val(n);
     n=n-1;

  	  // respuesta_sonido();
      $("."+bingo_array[n]).css({'background':'red'}); 

}


function repetido(num) {
	var repe = false;
   for (i=0; i<usados.length; i++) {
	if (num == usados[i]) {
		//alert("repetido");
	    repe = true;
	}
   }
	return repe;
}

/*function aleatorio2(n1, n2){
	while (repe != false) {
	    var num = Math.floor(Math.random()*(n2-n1+1))+n1;
	    var repe = repetido(num);
	}
	usados.push(num);
	return num;
}*/

function aleatorio2(n1, n2) {
	if (usados.length != (n2-n1+1)) {
		while (repe != false) {
		  var num = Math.floor(Math.random()*(n2-n1+1))+n1;
		  var repe = repetido(num);
		}
	  usados.push(num);
	  return num;
	} else {
	 return null;
	}
}

</script>

